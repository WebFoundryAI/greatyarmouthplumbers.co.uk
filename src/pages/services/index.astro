---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';
import { Icon } from 'astro-icon/components';
import { business } from '../../data/business';
import { serviceTypes } from '../../data/serviceTypes';
import { serviceUrl, contactUrl } from '../../lib/urls';

const title = 'Our Plumbing Services | Great Yarmouth Plumbers';
const description = 'Full range of plumbing services in Great Yarmouth and Norfolk. Leak repair, boiler service, drain cleaning and more. Call 01493 334000 for a free quote.';

const breadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'Services' },
];
---

<BaseLayout {title} {description}>
  <Fragment slot="head">
    <script type="application/ld+json" set:html={JSON.stringify({
      '@context': 'https://schema.org',
      '@type': 'WebPage',
      name: title,
      description: description,
      url: `${business.website}/services/`,
      breadcrumb: {
        '@type': 'BreadcrumbList',
        itemListElement: [
          { '@type': 'ListItem', position: 1, name: 'Home', item: business.website },
          { '@type': 'ListItem', position: 2, name: 'Services', item: `${business.website}/services/` },
        ],
      },
    })} />
  </Fragment>

  <Breadcrumbs items={breadcrumbs} />

  <!-- Hero -->
  <section class="bg-gradient-to-br from-brand-900 to-brand-800 py-16 text-white">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl">
        <h1 class="text-4xl font-extrabold tracking-tight sm:text-5xl">Our Plumbing Services</h1>
        <p class="mt-4 text-lg text-brand-100">
          {business.name} offers a complete range of plumbing services for homes and businesses across Great Yarmouth and Norfolk. Every job is carried out by experienced plumbers who take pride in their work.
        </p>
      </div>
    </div>
  </section>

  <!-- Services Grid -->
  <section class="bg-gray-50 py-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        {serviceTypes.map((service) => (
          <a
            href={serviceUrl(service.slug)}
            class="group flex flex-col rounded-xl bg-white p-8 shadow-md ring-1 ring-gray-100 transition hover:-translate-y-1 hover:shadow-lg"
          >
            <div class="mb-5 flex h-14 w-14 items-center justify-center rounded-xl bg-brand-50 text-brand-600 transition group-hover:bg-brand-600 group-hover:text-white">
              <Icon name={service.icon} class="h-7 w-7" />
            </div>
            <h2 class="text-xl font-bold text-gray-900 group-hover:text-brand-700">{service.name}</h2>
            <p class="mt-3 flex-1 text-sm leading-relaxed text-gray-600">{service.shortDescription}</p>
            <div class="mt-4 flex items-center justify-between">
              <span class="text-sm font-semibold text-brand-700">
                From &pound;{service.priceRange.min}
              </span>
              {service.emergency && (
                <span class="inline-flex items-center gap-1 rounded-full bg-red-50 px-2.5 py-0.5 text-xs font-semibold text-red-700">
                  <Icon name="lucide:zap" class="h-3 w-3" />
                  24/7
                </span>
              )}
            </div>
            <span class="mt-4 inline-flex items-center gap-1 text-sm font-semibold text-brand-600 group-hover:text-brand-700">
              View details
              <Icon name="lucide:arrow-right" class="h-4 w-4 transition group-hover:translate-x-1" />
            </span>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Why Choose Us -->
  <section class="bg-white py-16">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl">
        <h2 class="text-2xl font-extrabold text-gray-900">Why Choose {business.name}?</h2>
        <div class="mt-6 space-y-4 text-gray-600 leading-relaxed">
          <p>
            Finding a reliable plumber in Great Yarmouth and Norfolk can be difficult. At {business.name}, we pride ourselves on honest pricing, quality workmanship, and a genuine commitment to customer satisfaction. Every job we take on, from a simple blocked sink to a full repiping project, receives the same level of care and attention.
          </p>
          <p>
            Our plumbers are fully qualified and experienced in working with all types of residential and commercial plumbing systems. We carry a comprehensive range of parts and tools in our vans so that most repairs can be completed on the first visit, saving you time and avoiding unnecessary follow-up appointments.
          </p>
          <p>
            We offer transparent, upfront quotes with no hidden charges. Before any work begins, we explain what needs doing and how much it will cost. If the scope of the job changes, we always discuss it with you first. We also provide a workmanship guarantee on all repairs and installations, giving you confidence that the job has been done properly.
          </p>
          <p>
            Whether you need emergency help with a burst pipe at midnight or want to schedule routine maintenance on your drains, {business.name} is here to help. We cover Great Yarmouth, Gorleston-on-Sea, Caister-on-Sea, Bradwell, Lowestoft, and surrounding areas within a 20-mile radius. Call us on {business.phone} for a free, no-obligation quote.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="bg-brand-900 py-16">
    <div class="mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8">
      <h2 class="text-3xl font-extrabold text-white">Not Sure What You Need?</h2>
      <p class="mx-auto mt-4 max-w-2xl text-lg text-brand-200">
        Give us a call and describe the problem. We will point you in the right direction and provide a free, no-obligation quote.
      </p>
      <div class="mt-8 flex flex-col items-center justify-center gap-4 sm:flex-row">
        <a
          href={business.phoneHref}
          class="inline-flex items-center gap-2 rounded-lg bg-amber-500 px-8 py-4 text-lg font-bold text-brand-900 transition hover:bg-amber-400"
        >
          <Icon name="lucide:phone" class="h-5 w-5" />
          {business.phone}
        </a>
        <a
          href={contactUrl()}
          class="inline-flex items-center gap-2 rounded-lg border-2 border-white/30 bg-white/10 px-8 py-4 text-lg font-bold text-white transition hover:bg-white/20"
        >
          <Icon name="lucide:message-square" class="h-5 w-5" />
          Contact Us
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
